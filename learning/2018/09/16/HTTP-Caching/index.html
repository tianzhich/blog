<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/blog/component---src-layouts-index-js-402b03e0db3e9461830c.js" as="script"/><link rel="preload" href="/blog/component---src-templates-blog-post-js-14060e765125310ecb9d.js" as="script"/><link rel="preload" href="/blog/path---learning-2018-09-16-http-caching-931340c30c8059591008.js" as="script"/><link rel="preload" href="/blog/app-0e1cc0341dc892817918.js" as="script"/><link rel="preload" href="/blog/commons-b71de3ed6830857928d7.js" as="script"/><style data-styled-components="bxyceg gehMjS bSiphg kcTYKP oBVQk bDegaL iTVOQQ hviaMX iTVtfV eBbrmu gyetaY fyVvTi gUgLxq ljqDId TWaYf eESBAu jlbquj bZeHhw fIuKoY">
/* sc-component-id: sc-bdVaJa */
.bSiphg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:60px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (max-width:599px){.bSiphg{height:40px;}} @media (max-width:1279px) and (min-width:600px){.bSiphg{height:50px;}} .bSiphg a{color:#ffffff;-webkit-text-decoration:none;text-decoration:none;} .bSiphg a:hover,.bSiphg a:active{color:#61dafb;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: sc-bwzfXH */
.kcTYKP{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:10px;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (max-width:599px){.kcTYKP{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}} @media (min-width:600px){.kcTYKP{width:calc(100% / 4);}} .kcTYKP svg{min-width:30px;} .kcTYKP span{color:#61dafb;font-weight:500;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-size:20px;line-height:20px;margin-left:10px;} @media (max-width:599px){.kcTYKP span{position:absolute;overflow:hidden;height:1px;width:1px;margin:-1px;padding:0;border:0;}} @media (max-width:979px){.kcTYKP span{font-size:16px;margin-top:1px;}}
/* sc-component-id: sc-htpNat */
.oBVQk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow-x:auto;-webkit-overflow-scrolling:touch;height:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;} @media (max-width:599px){.oBVQk{-webkit-mask-image:-webkit-linear-gradient(to right,transparent,black 20px,black 90%,transparent);mask-image:-webkit-linear-gradient(to right,transparent,black 20px,black 90%,transparent);-webkit-mask-image:linear-gradient(to right,transparent,black 20px,black 90%,transparent);}} @media (max-width:599px) and (min-width:0px){.oBVQk{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}} .oBVQk a{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;padding-left:15px;padding-right:15px;font-weight:300;white-space:nowrap;} @media (min-width:600px){.oBVQk a::after{content:"";}} .oBVQk a.active{color:#61dafb;} .oBVQk a.active::after{position:absolute;bottom:-1px;height:4px;background:#61dafb;left:0;right:0;} .oBVQk a:focus{outline:0;background-color:#373940;color:#ffffff;} @media (max-width:599px) and (min-width:0px){.oBVQk a{padding-left:8px;padding-right:8px;}} @media (max-width:979px) and (min-width:600px){.oBVQk a{padding-left:10px;padding-right:10px;}} @media (min-width:1280px){.oBVQk a{padding-left:20px;padding-right:20px;font-size:18px;}}
/* sc-component-id: sc-bxivhb */
.bDegaL{position:relative;cursor:pointer;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0.5rem;padding-right:0.5rem;min-width:100px;color:#ffffff;font-weight:300;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;} @media (max-width:979px){.bDegaL{margin-right:10px;}} @media (max-width:599px){.bDegaL{margin-right:0;min-width:0;margin-left:10px;}} @media (min-width:600px){.bDegaL{width:calc(100%/12);}} @media (min-width:1280px){.bDegaL{font-size:18px;}} .bDegaL div{display:none;position:absolute;background-color:#f9f9f9;width:120px;height:80px;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);line-height:20px;bottom:-80px;} .bDegaL:hover{color:#61dafb;} .bDegaL:hover div{display:block;} .bDegaL.clicked{color:#61dafb;} .bDegaL.clicked div{display:block;} .bDegaL a{float:none;color:black;padding:10px 12px;-webkit-text-decoration:none;text-decoration:none;display:block;text-align:left;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}
/* sc-component-id: sc-ifAKCX */
.iTVOQQ{text-align:center;} .iTVOQQ a{padding:5px 10px;margin-left:10px;white-space:nowrap;font-size:14px;font-weight:100;color:rgba(255,255,255,.9);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;} .iTVOQQ a svg{margin-left:5px;vertical-align:-2px;color:#6d6d6d;} @media (max-width:320px){.iTVOQQ{display:none;}} @media (max-width:459px){.iTVOQQ a{margin-left:0;}.iTVOQQ a span{display:none;}} @media (min-width:980px){.iTVOQQ{width:calc(100% / 6);}}
/* sc-component-id: sc-EHOje */
.bxyceg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}
/* sc-component-id: sc-bZQynM */
.gehMjS{background-color:#20232a;color:#ffffff;position:fixed;width:100%;top:0;left:0;z-index:2;} .gehMjS > div{padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto;} @media (min-width:780px){.gehMjS > div{width:90%;}} @media (min-width:1340px){.gehMjS > div{max-width:1260px;}}
/* sc-component-id: sc-gzVnrw */
.hviaMX{margin-top:60px;width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;} @media (max-width:1279px) and (min-width:780px){.hviaMX{margin-top:50px;}} @media (max-width:779px){.hviaMX{margin-top:40px;}}
/* sc-component-id: sc-htoDjs */
.iTVtfV{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;}
/* sc-component-id: sc-dnqmqq */
.eBbrmu{width:100%;padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto;} @media (min-width:780px){.eBbrmu{width:90%;}} @media (min-width:1340px){.eBbrmu{max-width:1260px;}}
/* sc-component-id: sc-iwsKbI */
.fIuKoY{height:50px;width:100%;background:#20232a;color:#ffffff;position:relative;} .fIuKoY img{margin-bottom:0;} .fIuKoY p{line-height:50px;margin-bottom:0;text-align:center;} .fIuKoY a{color:#61dafb;} .fIuKoY a:hover{-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: sc-gZMcBi */
.jlbquj{background-color:#20232a;bottom:44px;color:#61dafb;display:none;cursor:pointer;position:fixed;right:20px;z-index:3;border-radius:50%;border:1px solid rgba(255,255,255,0.1);box-shadow:0 0 20px rgba(0,0,0,0.3);} .jlbquj > div{padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto;}
/* sc-component-id: sc-gqjmRU */
.bZeHhw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:60px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .bZeHhw > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:20px;height:20px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .bZeHhw svg:nth-child(1){-webkit-transform:rotateZ(180deg) translateY(4px);-ms-transform:rotateZ(180deg) translateY(4px);transform:rotateZ(180deg) translateY(4px);-webkit-transition:-webkit-transform 0.2s ease;-webkit-transition:transform 0.2s ease;transition:transform 0.2s ease;} .bZeHhw svg:nth-child(1).active{-webkit-transform:rotateZ(180deg) translateY(-8px);-ms-transform:rotateZ(180deg) translateY(-8px);transform:rotateZ(180deg) translateY(-8px);} .bZeHhw svg:nth-child(2){-webkit-transform:translateY(4px);-ms-transform:translateY(4px);transform:translateY(4px);-webkit-transition:-webkit-transform 0.2s ease;-webkit-transition:transform 0.2s ease;transition:transform 0.2s ease;} .bZeHhw svg:nth-child(2).active{-webkit-transform:translateY(-8px);-ms-transform:translateY(-8px);transform:translateY(-8px);}
/* sc-component-id: sc-VigVT */
@media (min-width:600px){.fyVvTi{margin-left:80px;border-left:1px solid rgb(236,236,236);}} @media (max-width:1339px) and (min-width:600px){.fyVvTi{margin-left:80px;-webkit-flex:0 0 200px;-ms-flex:0 0 200px;flex:0 0 200px;}} @media (max-width:979px) and (min-width:600px){.fyVvTi{margin-left:40px;}} @media (min-width:1100px){.fyVvTi{-webkit-flex:0 0 300px;-ms-flex:0 0 300px;flex:0 0 300px;}}
/* sc-component-id: sc-jTzLTM */
.gUgLxq{height:calc(100vh - 60px);padding-right:999px;margin-right:-999px;} @media (max-width:599px){.gUgLxq{-webkit-transition:opacity 0.5s ease;transition:opacity 0.5s ease;top:0px;left:0px;bottom:0px;right:0px;position:fixed;background-color:rgb(255,255,255);z-index:-1;height:100vh;overflow-y:auto;opacity:0;}.gUgLxq + div.action-button{display:block;}} @media (min-width:600px){.gUgLxq{position:fixed;overflow-y:auto;-webkit-overflow-scrolling:touch;background-color:#f7f7f7;opacity:1 !important;}} @media (max-width:779px) and (min-width:600px){.gUgLxq{height:calc(100vh - 40px);}} @media (max-width:1279px) and (min-width:780px){.gUgLxq{height:calc(100vh - 50px);}}
/* sc-component-id: sc-fjdhpX */
.ljqDId{margin-top:60px;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 0.5s ease;-webkit-transition:transform 0.5s ease;transition:transform 0.5s ease;} @media (max-width:599px){.ljqDId{margin-top:40px;-webkit-transform:translateY(40px);-ms-transform:translateY(40px);transform:translateY(40px);}} @media (max-width:979px) and (min-width:600px){.ljqDId{margin-top:0;}} @media (max-width:1279px) and (min-width:780px){.ljqDId{margin-top:50px;}} .ljqDId nav{width:100%;padding-left:20px;position:relative;} @media (min-width:1100px){.ljqDId nav{padding-left:40px;}}
/* sc-component-id: sc-jzJRlG */
.TWaYf{margin-top:10px;color:#6d6d6d;font-size:14px;font-weight:700;line-height:3;text-transform:uppercase;-webkit-letter-spacing:0.08em;-moz-letter-spacing:0.08em;-ms-letter-spacing:0.08em;letter-spacing:0.08em;} .TWaYf svg{margin-left:7px;-webkit-transform:rotateY(180deg);-ms-transform:rotateY(180deg);transform:rotateY(180deg);} @media (min-width:600px){.TWaYf{color:#1a1a1a;}}
/* sc-component-id: sc-cSHVUG */
.eESBAu{-webkit-transition:border 0.2s ease;transition:border 0.2s ease;list-style:none;margin-bottom:10px;margin-left:0;} .eESBAu > li{margin-top:10px;margin-bottom:0;} .eESBAu a{color:#1a1a1a;display:inline-block;-webkit-transition:border 0.2s ease;transition:border 0.2s ease;-webkit-text-decoration:none;text-decoration:none;} .eESBAu a:hover{color:#6d6d6d;outline-width:0;} .eESBAu a::before{width:4px;height:25px;content:'';border-left:4px solid #61dafb;padding-left:16px;position:absolute;left:0;visibility:hidden;} @media (min-width:1100px){.eESBAu a::before{left:15px;}} .eESBAu a.active{font-weight:700;} .eESBAu a.active:hover{color:#6d6d6d;} .eESBAu a.active::before{visibility:visible;} .eESBAu ul{list-style:none;margin-bottom:0px;margin-top:0;margin-left:20px;} .eESBAu ul li{margin-bottom:0;}
/* sc-component-id: sc-kAzzGY */
.gyetaY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;} .gyetaY article{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;padding-left:30px;margin-left:-30px;padding-right:30px;margin-right:-30px;overflow:hidden;} .gyetaY article header h1{margin-bottom:0;padding-bottom:0;border:none;} .gyetaY article header div{margin-top:15px;} .gyetaY article header p{margin-top:30px;color:#6d6d6d;margin-bottom:0;}</style><title data-react-helmet="true">To The Future</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCBcOOCKih+TbAAACk0lEQVRIx5XUX2jVZRzH8ZfbpFAXqDlMvFAw540r5kSMoiRliBqB+KdmdREFKjijZRclUYwsrASZeCFOUS8UhOHEDS2bk0VZ0cxyY4d2Kv/lnxzH6aaba08XO87j9PzO8fu7+j3P9/18Pt/vl+fJ9XAx3CxlPvCIP43STd5DwEXesdQIxExTLEer89njc4XB76K3rXXdc9k5yLfOd6oG/4/Z4RkvOWRMNsoLXdJjY1L7ss1WahL0OmBqJrjAEv8IzusS9KpW7X0d+lxwyjdyoksoVuOs8ZiAOmd0ecxnSIhpslF/lPorugWdgqBDhSPKnBL0+UG9v8UNi8LfS+n5tz5Sb42ulLV+C6LwZfqTiT0+Vucru1LgIFgfhY90I5nWZrU25VpT0GuOWhFtf3kytcXrfvGh7hT8lnpLo0c31XZBELNYjb1DrAc1Ho/CJ4rZL4ib77B9Q+BaxdHq+U4KYjrN06B6EEw4qML0ByGpzch10Hyw0qt+VeZ3bf511kk5nlTrarR+eVJvm0Zf3Ff7URmjXRD8ZJ8N9+EtCjLh45JTLlfp9j1wp0+MSofdvUwzwQZF5gyuXnDcEXvdTK97J3W4hfhRgXyTcU3caT1+sz8KvxtvaNGn3Kcp1r/2VDboQP0/+0+VyuT17XPInOzQgRKKPO2chBId6jRLuKE1AznMFLf9NXDARLm2e1Sxi0qNVakxLThZiRlG69Wi7o6Dy2pN8rygwU7NadAir5nkD9/70pV7t0bYZLbZaV/Ikd60x7vpn/EXvZXW8kxb7Faa7gnJQ67pEg/YG2OFUs0+dya6n6v0enZIh+faqsoLcjLMQh6ecNwJjFeoUKEJLmm0Vk8meECLl3VYJM9VcXHtQzscHf8DgjIivFp2S+oAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDgtMjNUMTQ6NTY6MzQrMDI6MDDGWfzhAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA4LTIzVDE0OjU2OjM0KzAyOjAwtwREXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="gatsby-inlined-css">body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}*,:after,:before{box-sizing:border-box}*{margin:0;padding:0}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-]{padding:0 3px;font-size:16px;word-break:break-word;background:rgba(255,229,100,.2);color:#1a1a1a}.token.keyword{color:#c5a5c5}.token.atrule,.token.class-name{color:#fac863}.token.punctuation{color:#5fb3b3}.token.function{color:#79b6f2}.token.entity,.token.operator,.token.url,.token.variable{color:#d7deea}.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol{color:#5a9bcf}.token.tag{color:#fc929e}.token.attr-name{color:#c5a5c5}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.string{color:#8dc891}.token.selector{color:#ddca7e}.gatsby-highlight{margin:25px -30px;padding-left:15px;padding-right:15px;background:#282c34;color:#fff;border-radius:10px;overflow:auto;tab-size:1.5em;-moz-tab-size:1.5em;-o-tab-size:1.5em;line-height:20px;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.gatsby-highlight pre[class*=language-]{height:auto!important;margin:1rem;font-size:14px;white-space:pre-wrap;word-break:break-word;line-height:20px}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace;font-size:inherit;line-height:inherit}.gatsby-highlight code[class*=language-]{color:#a6e22e}.gatsby-highlight-code-line{background-color:#14161a;display:block;margin:-.125rem calc(-1rem - 15px);padding:.125rem calc(1rem + 15px)}@font-face{font-family:KaTeX_AMS;src:url(/blog/static/KaTeX_AMS-Regular.3d8245dc.woff2) format("woff2"),url(/blog/static/KaTeX_AMS-Regular.ac1d46d9.woff) format("woff"),url(/blog/static/KaTeX_AMS-Regular.c67be87a.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/blog/static/KaTeX_Caligraphic-Bold.970d3e76.woff2) format("woff2"),url(/blog/static/KaTeX_Caligraphic-Bold.445f96a3.woff) format("woff"),url(/blog/static/KaTeX_Caligraphic-Bold.3f61a84d.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/blog/static/KaTeX_Caligraphic-Regular.0ef0f2e3.woff2) format("woff2"),url(/blog/static/KaTeX_Caligraphic-Regular.74f6918c.woff) format("woff"),url(/blog/static/KaTeX_Caligraphic-Regular.c3bc8fce.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/blog/static/KaTeX_Fraktur-Bold.950649ba.woff2) format("woff2"),url(/blog/static/KaTeX_Fraktur-Bold.1aca7ef7.woff) format("woff"),url(/blog/static/KaTeX_Fraktur-Bold.e11e6bf0.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/blog/static/KaTeX_Fraktur-Regular.135ccd74.woff2) format("woff2"),url(/blog/static/KaTeX_Fraktur-Regular.c5b430bf.woff) format("woff"),url(/blog/static/KaTeX_Fraktur-Regular.a9509497.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/blog/static/KaTeX_Main-Bold.c5b67fb3.woff2) format("woff2"),url(/blog/static/KaTeX_Main-Bold.0ba875a1.woff) format("woff"),url(/blog/static/KaTeX_Main-Bold.aaaa1b76.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/blog/static/KaTeX_Main-BoldItalic.0719833c.woff2) format("woff2"),url(/blog/static/KaTeX_Main-BoldItalic.5aeca883.woff) format("woff"),url(/blog/static/KaTeX_Main-BoldItalic.bdbadb27.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/blog/static/KaTeX_Main-Italic.6bf61628.woff2) format("woff2"),url(/blog/static/KaTeX_Main-Italic.bb7c45db.woff) format("woff"),url(/blog/static/KaTeX_Main-Italic.2155d789.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/blog/static/KaTeX_Main-Regular.29b27903.woff2) format("woff2"),url(/blog/static/KaTeX_Main-Regular.1fd21713.woff) format("woff"),url(/blog/static/KaTeX_Main-Regular.7b8d1fa0.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(/blog/static/KaTeX_Math-Italic.7a31741a.woff2) format("woff2"),url(/blog/static/KaTeX_Math-Italic.8eb56b3f.woff) format("woff"),url(/blog/static/KaTeX_Math-Italic.10740d74.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(/blog/static/KaTeX_SansSerif-Bold.e38d0f68.woff2) format("woff2"),url(/blog/static/KaTeX_SansSerif-Bold.84299b01.woff) format("woff"),url(/blog/static/KaTeX_SansSerif-Bold.9123667c.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_SansSerif;src:url(/blog/static/KaTeX_SansSerif-Italic.1057b702.woff2) format("woff2"),url(/blog/static/KaTeX_SansSerif-Italic.95c5a3d4.woff) format("woff"),url(/blog/static/KaTeX_SansSerif-Italic.f9c440ab.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(/blog/static/KaTeX_SansSerif-Regular.f9e06d59.woff2) format("woff2"),url(/blog/static/KaTeX_SansSerif-Regular.35bda414.woff) format("woff"),url(/blog/static/KaTeX_SansSerif-Regular.2eae604d.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(/blog/static/KaTeX_Script-Regular.ae1fad1f.woff2) format("woff2"),url(/blog/static/KaTeX_Script-Regular.60febfa1.woff) format("woff"),url(/blog/static/KaTeX_Script-Regular.e9169ca7.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(/blog/static/KaTeX_Size1-Regular.fda0824e.woff2) format("woff2"),url(/blog/static/KaTeX_Size1-Regular.1d6cf6b8.woff) format("woff"),url(/blog/static/KaTeX_Size1-Regular.f2e296ef.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(/blog/static/KaTeX_Size2-Regular.a7a0eb93.woff2) format("woff2"),url(/blog/static/KaTeX_Size2-Regular.f48e83b7.woff) format("woff"),url(/blog/static/KaTeX_Size2-Regular.0767ede6.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(/blog/static/KaTeX_Size3-Regular.397bd687.woff2) format("woff2"),url(/blog/static/KaTeX_Size3-Regular.0387ab38.woff) format("woff"),url(/blog/static/KaTeX_Size3-Regular.882f7234.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(/blog/static/KaTeX_Size4-Regular.3c14ed11.woff2) format("woff2"),url(/blog/static/KaTeX_Size4-Regular.726db3bd.woff) format("woff"),url(/blog/static/KaTeX_Size4-Regular.27901d5c.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(/blog/static/KaTeX_Typewriter-Regular.f43e8696.woff2) format("woff2"),url(/blog/static/KaTeX_Typewriter-Regular.ba01f72a.woff) format("woff"),url(/blog/static/KaTeX_Typewriter-Regular.6b9645af.ttf) format("truetype");font-weight:400;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:inline-block;text-align:left;text-align:initial}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-html{display:inline-block}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base{position:relative}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathit{font-family:KaTeX_Math;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%}.katex .mspace{display:inline-block}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.muspace{width:.055556em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer,.katex .sizing{display:inline-block}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{width:0;position:relative}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;margin:0 -.125em;width:.25em;overflow:hidden;position:relative}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex .vertical-separator svg{width:.25em}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox{box-sizing:border-box;border:.04em solid #000}.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap+.mbin,.katex .cancel-lap+.mord,.katex .cancel-lap+.msupsub,.katex .mbin+.cancel-lap,.katex .mord+.cancel-lap{margin-left:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}pre{overflow-x:auto}article ol,article ul{margin-left:32px}h2:before,h3:before,h4:before,h5:before,h6:before{display:block;content:"";height:70px;margin-top:-70px;visibility:hidden}article blockquote{background-color:rgba(255,229,100,.3);border-left-color:#ffe564;border-left-width:9px;border-left-style:solid;padding:20px 45px 20px 26px;margin:20px -30px 30px}article a:not(.anchor):not(.gatsby-resp-image-link){background-color:rgba(187,239,253,.3);border-bottom:1px solid rgba(0,0,0,.2);color:#1a1a1a;text-decoration:none}article a:not(.anchor):not(.gatsby-resp-image-link):hover{background-color:#bbeffd;border-bottom-color:#1a1a1a}article table{display:block;margin:0 auto 16px;width:100%;overflow:auto;table-layout:fixed;border-spacing:0;border-collapse:collapse}article table tr{background-color:#fff;border-top:1px solid #c6cbd1}article table tr:nth-child(2n){background-color:#f6f8fa}article table td,article table th{padding:6px 13px;border:1px solid #dfe2e5}article table td:first-child,article table td:last-child,article table th:first-child,article table th:last-child{padding:6px 13px}:not(.katex-display) .katex-html{background-color:#dadada}ol .katex-display,ul .katex-display{margin-left:-62px}.katex-display{overflow-x:scroll;background-color:#dadada;margin-left:-30px;margin-right:-30px;padding-left:15px;padding-right:15px;border-radius:10px}.katex-display .katex{padding:1rem}a.gatsby-resp-image-link+span{display:block;margin-top:5px;text-align:center;font-size:.9em}</style></head><body><div id="___gatsby"><div class="sc-EHOje bxyceg" data-reactroot=""><header class="sc-bZQynM gehMjS"><div class="sc-bdVaJa bSiphg"><a class="sc-bwzfXH kcTYKP" href="/blog/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 331.331 331.331" height="30"><g><path d="M30.421,317.462l4.422-17.661l-12.194-4.814l-8.376,13.804c0,0,4.618,12.526-0.511,22.539   C13.766,331.331,20.184,320.399,30.421,317.462z M22.229,309.358c1.501-0.615,3.231,0.087,3.851,1.561   c0.625,1.474-0.087,3.171-1.588,3.786c-1.501,0.615-3.231-0.087-3.851-1.561C20.01,311.664,20.723,309.967,22.229,309.358z" fill="#ffffff"></path><path d="M158.353,112.621c-35.115,28.8-81.086,88.124-120.073,157.423l-0.022-0.027l-6.815,12.026   l7.267,2.796l3.84-10.117c20.799-37.491,77.224-135.4,180.397-200.451c0,0,38.411-22.877,76.256-54.516   c-9.214,7.702-27.391,17.356-37.247,23.584C236.088,59.683,204.166,75.043,158.353,112.621z" fill="#ffffff"></path><path d="M33.2,215.365c-7.985,28.223-7.528,49.718-4.438,55.625h4.83   c13.337-27.625,77.572-127.693,117.554-159.016c41.424-32.455,73.378-51.339,100.253-65.111   c9.437-4.835,19.118-11.384,27.848-17.949c10.601-8.36,21.348-17.302,30.758-26.053L282.728,20.75L294.89,2.148L271.67,25.759   L286.78,0c-35.746,3.225-68.918,21.109-68.918,21.109c-13.271,15.741-23.959,40.782-23.959,40.782   c-0.37-12.521,8.11-31.481,8.11-31.481c-6.266,2.861-30.073,16.459-30.073,16.459c-11.645,9.66-15.262,35.06-15.262,35.06   c-2.214-10.019,5.526-29.333,5.526-29.333c-33.543,19.32-57.502,52.231-57.502,52.231c-16.584,32.553-2.948,57.953-8.11,51.872   c-5.162-6.081-4.052-28.261-4.052-28.261c-35.017,33.63-38.699,49.724-38.699,49.724c-5.896,14.31-11.058,52.59-11.058,52.59   c-3.318-3.579,0-23.611,0-23.611c-8.479,17.889-4.422,34.701-4.422,34.701C34.309,240.407,33.2,215.365,33.2,215.365z" fill="#ffffff"></path><path d="M310.01,14.191c0,0-13.483,13.065-30.758,26.053c-27.081,21.359-53.156,38.819-53.156,38.819   C123.945,139.425,67.025,237.932,48.212,271.708h10.002c3.535-2.834,8.844-4.971,31.014-11.389   c28.011-8.11,44.72-25.041,44.72-25.041s-25.553,14.31-37.595,12.88s-28.223,3.1-28.223,3.1s-6.179-2.861,24.291-7.392   s80.596-38.634,80.596-38.634s-19.167,7.87-28.011,7.152c-8.844-0.718-30.714,0-30.714,0c14.495-3.34,28.011-1.43,50.126-9.779   c22.115-8.349,20.886-7.631,20.886-7.631c25.063-8.349,35.474-34.342,35.474-34.342c-4.335,1.67-37.443,5.722-51.176,1.67   c-13.734-4.052-37.132,0-37.132,0c22.115-7.392,27.032-4.052,32.433-4.291c5.406-0.239,22.855,1.191,57.502-10.731   s44.475-26.711,44.475-26.711l-23.366,3.122c15.257-2.567,32.455-12.662,32.455-12.662c-10.568,2.861-27.032,4.291-27.032,4.291   c19.412-4.291,30.225-10.253,30.225-10.253c18.183-13.832,22.36-34.342,22.36-34.342c-25.803,8.822-46.194,4.77-46.194,4.77   c35.387-2.382,45.215-11.449,50.126-13.592c4.917-2.148,6.94-11.03,6.94-11.03c-17.878,6.44-38.15,7.511-38.15,7.511   c21.93-3.399,40.722-14.49,40.722-14.49V32.792c-8.479,4.83-23.399,8.588-23.399,8.588l23.219-15.023   C316.091,18.841,310.01,14.191,310.01,14.191z" fill="#ffffff"></path><polygon points="23.551,290.571 37.361,296.103 39.933,289.989 26.124,284.458  " fill="#ffffff"></polygon><path d="M177.036,285.458c-45.628,21.936-89.462,36.888-147.758,38.846c-5.439,0.185-5.466,5.624,0,5.439   c52.15-1.751,95.543-12.961,137.391-32.575c46.618-21.854,89.435-40.167,147.828-46.39c5.385-0.577,3.095-5.814-2.252-5.243   C260.531,251.051,218.514,265.519,177.036,285.458z" fill="#ffffff"></path></g></svg><span>TIANZHICH</span></a><nav class="sc-htpNat oBVQk"><a class="" href="/blog/learning">Learning</a><a class="" href="/blog/life">Life</a><a class="" href="/blog/fitness">Fitness</a></nav><div class="sc-bxivhb bDegaL">Friends<div><a href="https://best921.github.io/">小泽的博客</a><a href="https://takikuzhu.github.io/">Ting的博客</a></div></div><div class="sc-ifAKCX iTVOQQ"><a href="https://github.com/tianzhich" target="_blank"><span>Github</span><svg x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></header><div class="sc-gzVnrw hviaMX"><div class="sc-htoDjs iTVtfV"><div class="sc-dnqmqq eBbrmu"><div class="sc-kAzzGY gyetaY"><article><header><h1>HTTP Caching</h1><div>September 16, 2019 by Tian Zhi</div><p>HTTP缓存作为Web重要的一环，理解并合理使用它能够提高Web性能</p></header><div><h2 id="前言"><a href="#%E5%89%8D%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>前言</h2>
<ul>
<li>
<p>什么是HTTP缓存</p>
</li>
<li>
<p>为什么需要HTTP缓存，因为使用HTTP缓存可以减少请求响应时间和避免网络时延带来的等待时间</p>
</li>
<li>
<p>如何合理使用缓存，设置不同文件的缓存时间</p>
</li>
</ul>
<h2 id="缓存的种类"><a href="#%E7%BC%93%E5%AD%98%E7%9A%84%E7%A7%8D%E7%B1%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存的种类</h2>
<p>缓存分为两种，<em>Private cache</em>和<em>Shared cache</em></p>
<ul>
<li>
<p><em>Private cache</em>是针对单个用户而言，一个例子就是自己的浏览器缓存，使用这些缓存实现了浏览器的前进/后退，而无需再次请求资源</p>
</li>
<li>
<p><em>Shared Cache</em>针对多个用户，比如代理服务器，一个ISP (Internet Service Provider)或者公司都有代理服务器，用来缓存一些资源，供所有员工访问，而不必再向互联网发出请求，避免网络延迟</p>
</li>
</ul>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-1a3c7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 850px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 62.967032967032964%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABDrAAAQ6wFQlOh8AAACz0lEQVQ4y41Ta0hTYRg+c6WVl5CxgTnKGQiC2D9TMUstqSjBmbUf0kzNQLqAUFJov/zRjwqiLHOBaRClEFiQSQ0rdK0QY+Fu7L6zc9lkZ+5+ae70ft6Yzh+98HCe73sv3/e9z3swbIuxLIttY5kC/j7ef8auml6v2wigKOqW0+kcHB4e5pEk2ePxMK98Pt9Xt9v9EPltrijPSoeE60X/mL2pBXVaLXJyECcIot/hcAxZLJZ+2GMTiQT6sPF4nG3v6KyRT3//5vWHbOu5DsqdWlCjVmPx5dWCVqv1GeCTSqXq9Hg8vkAgEGMYJmy32x+BO/+LfPplIBh5t55L0lsKlhSXYCRFbjyZIEgJTdM3ER94PHBo8uPk5dGR0drk3pU+XY0VN4qx4tKyFX64vArDDAYDhuN42tjbsZQmr60zAFzA7r47vVnJMcm8vasHs7ui2+qTBcgG7FhL4gC4yQGigkIUk7N22J4jx+q5fp+Xwy7H0jCj0SiAG1bIZLJder1+JwhRZrPZzjtwR/2mKdBpBSBWxczsTHp3d3fO3NxchclougAvPL7pOtDotsXFRUan052FggpISsCILCNV1QsL4tfj78sZb/i+g6DuQV+XlD+UE+A3RCKRGBj7F5RXqX7XTslnqxlv6Dnq4QlQdMhkMl3TarUs8JXxQEbTVJ1GZ2pB3Gyx37VYzEMajUbNJlk4HGYVitmqGcWvXrTGzGZzKwzy0k+lsnJ+fr7D5XJ9iMWi4yRBnkQvCEUTwkA4Xm3H8dswm165XP4Ahr4vGAxO+P3+Nzar7SiKM5jxQl8g0oCazgVkVJVXIhEyRcLC/fl5B0TA+dIWKT9Z0ampz3uBol+Qf1BUVJCbzcsHLmiVdghTpK2pq8eeDAymixua8pqbJEXXr97IRfuyFyMcfyi6ofKVzq7sNmm76Fxjs0jSLClovXgp7/SpMxnoQKeL4f4D7b7KZizqIdwAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="http cache type"
        title=""
        src="/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-8d63b.png"
        srcset="/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-16ce1.png 213w,
/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-898e7.png 425w,
/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-8d63b.png 850w,
/blog/static/http-cache-type-9b8d6b31519cb600a9cabcbe8ef4b2ca-1a3c7.png 910w"
        sizes="(max-width: 850px) 100vw, 850px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2 id="缓存控制"><a href="#%E7%BC%93%E5%AD%98%E6%8E%A7%E5%88%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存控制</h2>
<p>要清楚缓存控制，这里要先分清两个概念，一个叫做缓存存储（Cache Storage），一个叫做缓存（Caching）</p>
<p>其实在中文里面，可能直接都说成缓存，但是这样不助于理解下面缓存控制的前两种情况。其实缓存存储是一个实实在在的东西，而缓存只是它的一个动作</p>
<p>后来我又发现国人有<strong>强缓存</strong>和<strong>协商缓存</strong>的说法，强缓存就是指<em>Cache Storage</em>会直接返回Cache的内容，协商缓存是指<em>Cache Storage</em>向原始服务器进行验证，如果原始服务器返回<em>304 Not Modified</em>，<em>Cache Storage</em>才返回Cache的内容</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/blog/static/chrome-memeory-cache-disk-cache-ede1c000cb59bb8dcaefc47b5d04ae20-d478a.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 729px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 35.5281207133059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABgUlEQVQozyWQ246jMBBE+f+vmn1ZbSKN5pJkQgLEGDAYMBAIt7CRzhr2oVVyu6q6qx1fKtKiITMt5X2g6iZMO1J3I8HhQHI6knsXfJmiLccL1caNVEFh7pi6I8lKZKKJLDoi1pz8mONV4kU5N1Uh0pqkaMmCG10SU8sQP9KU7WQ5mspi47nkX+8k7zui/W9674ePPzucLEs5n12uVw/3cuHsulsJISirinlZGOZ569X2/WO5fdcxDw9ULJEiQKuE1/jgM0hwirJEyIhQxtyEtBhtqPOCyhpM00Tf96y8yRqLMGIYRtq2I7ecPM8xVc0yT1yUjWzKgljZ+9iPVTSMI/0wbKKmuTNbk9XQmIrn80lwC7chj36gNIa8KKnqhr/LE1/XOCrN8PyATOfUTcNiI671er2sidnEXWfjpelm+H08bQsMtSG9eURXFy0Frzrn8+jipErh2vuJ8H/MdaNVuJqWa8xp3Ay1Hbj23cuVzG7VCRe1/0W8e0N/7Vlij8N+zz/zKAfXXrVIlgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="chrome memeory cache disk cache"
        title=""
        src="/blog/static/chrome-memeory-cache-disk-cache-ede1c000cb59bb8dcaefc47b5d04ae20-d478a.png"
        srcset="/blog/static/chrome-memeory-cache-disk-cache-ede1c000cb59bb8dcaefc47b5d04ae20-9fd74.png 213w,
/blog/static/chrome-memeory-cache-disk-cache-ede1c000cb59bb8dcaefc47b5d04ae20-77f2f.png 425w,
/blog/static/chrome-memeory-cache-disk-cache-ede1c000cb59bb8dcaefc47b5d04ae20-d478a.png 729w"
        sizes="(max-width: 729px) 100vw, 729px"
      />
    </span>
  </span>
  
  </a>
    
<span>淘宝网首页, Chrome Dev Tools下观察到的协商缓存(304)和强缓存 (from xxx cache)</span></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/blog/static/HTTPStaleness-38a664f76ea31a19134dea5592f67677-eb1e6.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 822px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 110.70559610705597%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABDrAAAQ6wFQlOh8AAAFNElEQVQ4y31Va2ySVxg+H5eP2wcFbCktUCh8XC1R6IVCL1AoIKVFCqVcyp0CBax1XeptizOZyfy5H+7n1u3n4p/NbsnWdjNb1GVOs1syp3a0c9qkizH1p3NJ930fVdG5vcnJe97vfc573nOe5wAQAgDUGp0MVag07VI5EwuBubcPWAet+BTIpBJYpVRrsWkzHn+xuspYXl4m4/PZyiECo5S3sxQKpUaOakTgiQmFYip4ie3s7EC4r1aroUePHm0+fvx4Z3t7+3xdnvCoQklVa/Vk4LY5ud4DXqHdNoj09w8wvF4vMzQZZaVSGWapVIEX31+EMTxtZXnFurm5uXjv3r13r1y+4jXsMzYcPnQYdjjsJJ1OR9JqNTAJr+x1e9kep5sf8AeY2XSOnkqmGPFUnjWdK9MXXj1NYKKRCF6UVN95JBxFyuUK3NfXR9Hr9RSsKAtB2NBTAJ/PhTkNPPJuiCfIux43Smhygv7Z5yu0u3f/gL/6+hL85qnXiJxc1kIAtFotpaurCwD/iI9Yt1+v57nd3jaXwy1wOT2Cwf6hRnOvhWO3D7O1Wj3P1GNq7dhrbMLAiFAg4ibjaX42k2UHg6EGo9HMVKlQ2GDofNZhNBSmxqcyGDBHO77wOvnM6bOkVCJHfWX+KNUfmKJgEPrFL1cFN2/e1K5X19vwK4hMxuB0pgAvHH8bEgoFJLVaUyuIyYYuk7Uz6XTGc/fUZ7YwIsFQI774vcUPRm/drv6FsbqDkXP9hx9/guuxKpWKjKJoLVCrdWIUVSkVChTBY/vQMBj3hUEinoLOf3ie2OTjC0vNt9aq6e2HD2fu3Lmjwb9hbINisUzUkMvlZIVCAYH/s97uTqjT2L2n12SWCgXClhf0WdOfREp4rBjeIQQO2F1NIy6P1G6zch32YY7P5+OEI3FuMpHmFAol2tmzb8EdHR0NIpGIubq6qnrw4IHl/v37xrXffn5uc6VSVetwbMRHczuczLFRH/XE3BEoGg2Thz0BSiych+o7uXb9e0t1/fe/8Tvc2tqqHls4rrX09EmioQjv4KifLhK1YgLf++zIWrWSFZtKNcwUKoyZYomFMcgOBgKw1WrDnyT11BuneZcuf+PZ2vpzfO32Gv5myZOBCdg/Mgr7xoIUsVhExrqEQD6ZrTHa29swEYygiVhKmEpmG8OhGG8iEOJiOuMNDbm5u0L/T1Mqlf8mpfrL3ZeCEQSGbDYbCTstCTsuGWMZQpg8EPD5gdNmr5GDojVSTAJch1o+JpvWdpmcgSdnCiWAkQISyTQBpsLQ052XlpbA+voGcDtcwOPygm6T+alssFHDidukHIVC1SIRtzFe7G5fx36GwdDFHLY7OdlckV5PVL2EcNkQR3ZZh9le54E9xXyWeu6dc+T5+XnqsaNH4ZMnT1Knc9M06+BQU3eXSYata6q/xwHzQMvB0XFRvrRAdNWh10EqlRL/+RrhYqM5FJhAivkiks8XWOlskZPPlZhzh0+QnnTz7dVruttr1RVMg79iT+/i3Oxce6tQzN1vMDIkUgVd2ibjyOXos6crkUhgYbOQBCAK/pHEYiJEcjpfIDrAJINe/e76pxsbGxdv3Lhx7FB5VhyLxiSZZAoNT8ZkNqudTxQa84wS3tTT0+iwO1sH+218h93VbO4x8wwGI9Jp7ELM5gEeBmncHXuIdT4/czqTZ2UTCW65UGRbB/tpRKG5yhHCJ6JxRmQy3piIZRjTuQo8k69QYlNpRrk8S/ePR+HgeKgpOZVqnquUmJ98dOGl/z8WswX8A5A7fsFRRK6GAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="HTTPStaleness"
        title=""
        src="/blog/static/HTTPStaleness-38a664f76ea31a19134dea5592f67677-eb1e6.png"
        srcset="/blog/static/HTTPStaleness-38a664f76ea31a19134dea5592f67677-c0d22.png 213w,
/blog/static/HTTPStaleness-38a664f76ea31a19134dea5592f67677-6a9d0.png 425w,
/blog/static/HTTPStaleness-38a664f76ea31a19134dea5592f67677-eb1e6.png 822w"
        sizes="(max-width: 822px) 100vw, 822px"
      />
    </span>
  </span>
  
  </a>
    
<span>强缓存和协商缓存验证资源是否过期</span></p>
<p>上面一幅图中，<em>304 Not Modified</em>表示使用了协商缓存，而<em>from memory cache</em>和<em>from disk cache</em>则直接使用强缓存</p>
<blockquote>
<p>Chrome在某个版本之后将以前的<em>from cache</em>变成了<em>from disk cache</em>和<em>from memory cache</em>，就跟名字一样，缓存在磁盘中的内容即使在关闭了当前tab之后还能使用，但是缓存到内存的内容，当关闭tab或者浏览器，或者浏览器崩溃后，就消失了。但是<em>memory cache</em>加载速度更快，从上图也能看出</p>
</blockquote>
<p>关于强缓存和协商缓存，我没发现这两个词的英文出处，但是这两个词理解起来更形象，所以下面的缓存控制情况我也会用到这两个词</p>
<h3 id="1-不使用缓存存储"><a href="#1-%E4%B8%8D%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E5%AD%98%E5%82%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 不使用<strong>缓存存储</strong></h3>
<p>可以理解为每次的请求都不经过Cache Storage，直接发给服务器，返回新的对象</p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Cache-Control: no-store
Cache-Control: no-cache, no-store, must-revalidate</code></pre>
      </div>
<h3 id="2-不直接使用缓存内容"><a href="#2-%E4%B8%8D%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E5%86%85%E5%AE%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 不直接使用<strong>缓存内容</strong></h3>
<p>Cache Storage会缓存内容，但是每次需要向服务器验证资源是否过期，没过期才能使用缓存，这就是<em>304 Not Modified</em>的情况，也就是我们所说的<strong>协商缓存</strong></p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Cache-Control: no-cache</code></pre>
      </div>
<h3 id="3-公共缓存和私有缓存"><a href="#3-%E5%85%AC%E5%85%B1%E7%BC%93%E5%AD%98%E5%92%8C%E7%A7%81%E6%9C%89%E7%BC%93%E5%AD%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 公共缓存和私有缓存</h3>
<p>例如告诉资源只能被<em>Private Browser Cache</em>缓存起来还是同时也能被<em>Public Proxy Server</em>缓存起来</p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Cache-Control: private
Cache-Control: public</code></pre>
      </div>
<h3 id="4-强缓存过期控制"><a href="#4-%E5%BC%BA%E7%BC%93%E5%AD%98%E8%BF%87%E6%9C%9F%E6%8E%A7%E5%88%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 强缓存过期控制</h3>
<p><code class="language-text">Cache-Control</code>优先级高于<code class="language-text">Expired</code>，前者是相对时间，后者是绝对时间；前者为<em>General Header</em>的字段，后者为<em>Response Header</em>的字段</p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Cache-Control: max-age=31536000 
Expires: Wed, 21 Oct 2015 07:28:00 GMT</code></pre>
      </div>
<h3 id="5-资源验证"><a href="#5-%E8%B5%84%E6%BA%90%E9%AA%8C%E8%AF%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 资源验证</h3>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Cache-Control: must-revalidate</code></pre>
      </div>
<h2 id="缓存验证"><a href="#%E7%BC%93%E5%AD%98%E9%AA%8C%E8%AF%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存验证</h2>
<p>缓存验证发生在用户刷新，或者响应头中包含<code class="language-text">Cache-Control: must-revalidate</code>的情况</p>
<p>缓存验证有两种形式，都可以用来验证文档是否过期</p>
<ul>
<li>文档的最后修改日期，响应头<em>Last-Modified</em>字段，请求头<em>If-Modified-Since</em>字段请求验证</li>
<li>对文档当前版本的唯一标识，叫做<em>entity tag</em>，响应头<em>ETag</em>字段，通常使用MD5 Hash实现，请求头<em>If-None-Match</em>字段请求验证</li>
</ul>
<p>同时，缓存验证有两种验证类型</p>
<ul>
<li>强验证（strong validator），文档对比一个字节一个字节地进行，严格对比</li>
<li>弱验证（weak validator），文档只有语义不同才认为是改变，例如一个HTML文档也许只是里面的广告发生改变，或者是页脚的日期发生改变，弱验证会认为它们还是相同的</li>
</ul>
<p><strong>HTTP默认使用的是强验证</strong></p>
<p>需要注意的是，一般情况下，<em>Last-Modified</em>字段只能作为弱验证，因为它的最小单位是秒，一秒内文档可能改变2次，无法做到标识每一次改变，如果使用它做强验证，则需要明确知道不会发生这种情况。当然，还有一些其他的限制，具体的限制可以看我下面的第4条RFC文档参考，这里就不细说了</p>
<p>而<em>ETag</em>默认作为强验证，如果需要用它实现弱验证比较困难，因为需要判断文档中不同元素的语义，确保语义变化时<em>ETag</em>的值才发生变化，而不是每次检测到字节变化时就生成一个新的值</p>
<p>缓存验证这部分建议有能力的同学直接查看第4条RFC参考</p>
<h2 id="条件缓存（响应头增加vary字段）"><a href="#%E6%9D%A1%E4%BB%B6%E7%BC%93%E5%AD%98%EF%BC%88%E5%93%8D%E5%BA%94%E5%A4%B4%E5%A2%9E%E5%8A%A0vary%E5%AD%97%E6%AE%B5%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>条件缓存（响应头增加<em>Vary</em>字段）</h2>
<p>该字段指出了筛选条件，如果下一次到达<em>Cache Storage</em>的请求中的该条件与缓存时的该条件的值不一样，则重新向真实server发请求，否则使用缓存，看下面这幅图</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/blog/static/HTTPVary-c864264bc709794a184811024c0f4d1a-c20c8.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 752px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 108.64361702127661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABDrAAAQ6wFQlOh8AAAE6UlEQVQ4y61VWW8bVRS+Y3s271MvYzt2Ei9jj5fYztasbVw79oyXsUncNI7tOI7tJg3QpkW0ErQIJLo+FxASDwgEDwio4C+UNyR4IC0oS6kQVUgEqtqHSu1TuGM3bYBW8MCRztyZe+Z+955zvvkGAGiMy2XzeQOsw8Eaed4Bzl/6HBQKJdDX0yuGgY9lyc6OThbe6kDLELDHHB0dCreb9XlZX+fuHGLvdJC0qVMKnmOhYEixubn57sOHD7999OjRnbt3757fjaV4DnG53CTDsBjIcWlZ+UgJPTg6jI0dGpVwPCeZPJyXNhoLsrOvn5NcvHhBurOzAxKJhGJra+ujBw8e3Ll/7/53GxsbsxBL+uLSy7gIqqVUrVNzUY5Ocyl3Mp4wTE4cNk9PTdOl0qylUqm1lYpV6sTyKezq1auo0WBQwdcVZtpCwVENXS5ksuaB/YPGUrGIBoNBiqZpydOUukKy6amSsjbXIOvVurwKPTaeQXfj2dwLCDwp8qxyVMpzgGEYrK2tDQEWo745abFYlHAgxDSgyx47ikNDZShGabXqaDSmu3z5MnXu7Fv7zr99QVGr1lXHFpeUX351TVoqFfHu7m4APAzTBHQ6nSjDuCWsxwu8rBfx+QKIzdbx5BQer2e3YQro4ubq6lzNmc9NwtKUjUI2b2hGg739zRHDn93dWCRGVgozIgh+/fr1/h9WbtY3N397Y211jROzOP3qGbJcqiiSyYzqySK3yyX3+wJqp8NDHhgebM7x8aRyPBLXpbi0NZMSPMVCKQw7e/P3P+7tiAZp897f9pZ4vewTQLPP63c6HB5jZKwPOffmFTBXbYDCVLEZry2dQcKhXvn6+nr7jZWV6OrqavcuyuLCEnL8pVPA7w/I7HY7+D8N8QcCAMQjcX1ynLOneV5XLs9qqnNV9XytoanXF7VH68fkJ5ZPossnT6J+v1+dS2WoRr2hr1Vr+45MTWuSXFad5AVtJpWlhodGNE1YgRfkuZRACcm0qjgza65W5o21+bqp0Vg0F2bmtPNHl8hPP/kYphwiwl1BLZfgNbPFsuZoY0EzUyhrDkWi2tHRg9quQBdNksRTnur0ekyjpvZ+y8geBwaDQabaR0mely9BEpJQKAxAT7inOQFZriChiWQWWSQ6giBYk9goipnNZjXkqp5PcHRfz7ApnUzqI2NRS39vP22yWEkcxwibzQrAYG+gRVwPK1s+fvpfK89FIqrXXlnW6TWUar5aM1XKFUN5dl43MZFv1ZC2MX9Z0GZ2tBYmMlg8GicSMY4WUkI75KJ9bW3tnZ9v//L9rdu/bm9tbV8R3/vi2tfShcaCdGTkAG5rbwe7AmpyM6yfcXls/nBrg/FYikhE48oMl9amUznTRC7P3rq18cHKjR/Xb/60/s3W9nZ+70EUCkLi8/paDziBShwORh7wh7D/yjnxUioUCSh9eDqZJcLh3tbaQ0MHZXlhAhvo634WmNhVqUyGSmFDoJzF0FBXWAkB3I1qXTeRzWkEPqNJQS4ODIwQjwU2YcxAgU3zSV0mLZiTfJrOCoIpI0xaR0eiWrvT15Q0SBuV0WjE1Wo1jpDKf+ii2UxLvWLKeKhVM6vVqg52ha0D+4d0g/sHDENDI0aX20d12p2iiojskWMYJtJKjqEyifhb4MYTIBFLgA/f/0wUWJnDYQd/AszHLPgmNurTAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="HTTPVary"
        title=""
        src="/blog/static/HTTPVary-c864264bc709794a184811024c0f4d1a-c20c8.png"
        srcset="/blog/static/HTTPVary-c864264bc709794a184811024c0f4d1a-cb99e.png 213w,
/blog/static/HTTPVary-c864264bc709794a184811024c0f4d1a-92229.png 425w,
/blog/static/HTTPVary-c864264bc709794a184811024c0f4d1a-c20c8.png 752w"
        sizes="(max-width: 752px) 100vw, 752px"
      />
    </span>
  </span>
  
  </a>
    
<span>在响应头使用<em>Vary</em>字段条件验证<em>Content-Encoding</em></span></p>
<p><em>Vary</em>字段通常会对<em>User-Agent</em>进行验证，避免将移动端缓存的文档直接发给桌面端请求的用户，反之亦然</p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html">Vary: User-Agent</code></pre>
      </div>
<h2 id="参考"><a href="#%E5%8F%82%E8%80%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考</h2>
<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching">https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching</a></li>
<li><a href="https://stackoverflow.com/questions/44596937/chrome-memory-cache-vs-disk-cache?rq=1">https://stackoverflow.com/questions/44596937/chrome-memory-cache-vs-disk-cache?rq=1</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests">https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests</a></li>
<li><a href="https://www.freesoft.org/CIE/RFC/2068/138.htm">Weak and Strong Validators</a></li>
</ol></div></article><aside class="sc-VigVT fyVvTi"><div><div class="sc-jTzLTM gUgLxq"><div class="sc-fjdhpX ljqDId"><nav><div><div class="sc-jzJRlG TWaYf">Contents<svg viewBox="0 0 926.23699 573.74994" version="1.1" width="10" height="10"><g transform="translate(904.92214,-879.1482)"><path d=" m -673.67664,1221.6502 -231.2455,-231.24803 55.6165, -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894, 0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892, -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696, -174.68583 0.6895,0 26.281,25.03215 56.8701, 55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864 -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688, -104.0616 -231.873,-231.248 z" fill="currentColor"></path></g></svg></div><ul class="sc-cSHVUG eESBAu"><li><a href="#前言" class="">前言</a></li><li><a href="#缓存的种类" class="">缓存的种类</a></li><li><a href="#缓存控制" class="">缓存控制</a><ul><li><a href="#1-不使用缓存存储" class="">1-不使用缓存存储</a></li><li><a href="#2-不直接使用缓存内容" class="">2-不直接使用缓存内容</a></li><li><a href="#3-公共缓存和私有缓存" class="">3-公共缓存和私有缓存</a></li><li><a href="#4-强缓存过期控制" class="">4-强缓存过期控制</a></li><li><a href="#5-资源验证" class="">5-资源验证</a></li></ul></li><li><a href="#缓存验证" class="">缓存验证</a></li><li><a href="#条件缓存（响应头增加vary字段）" class="">条件缓存（响应头增加vary字段）</a></li><li><a href="#参考" class="">参考</a></li></ul></div></nav></div></div><div class="action-button sc-gZMcBi jlbquj"><div><div class="sc-gqjmRU bZeHhw"><div><svg class="" viewBox="0 0 926.23699 573.74994" version="1.1" width="15" height="15"><g transform="translate(904.92214,-879.1482)"><path d="m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,-55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,-174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,-174.68583 0.6895,0 26.281,25.03215 56.8701,55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864 -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688, -104.0616 -231.873,-231.248 z" fill="currentColor"></path></g></svg><svg class="" viewBox="0 0 926.23699 573.74994" version="1.1" width="15" height="15"><g transform="translate(904.92214,-879.1482)"><path d="m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,-55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,-174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,-174.68583 0.6895,0 26.281,25.03215 56.8701,55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864 -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,-104.0616 -231.873,-231.248 z" fill="currentColor"></path></g></svg></div></div></div></div></div></aside></div></div></div></div><div class="sc-iwsKbI fIuKoY"><div><p>Feel free to leave me a message <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 492.719 492.719" height="15px"><g><path d="M492.719,166.008c0-73.486-59.573-133.056-133.059-133.056c-47.985,0-89.891,25.484-113.302,63.569    c-23.408-38.085-65.332-63.569-113.316-63.569C59.556,32.952,0,92.522,0,166.008c0,40.009,17.729,75.803,45.671,100.178    l188.545,188.553c3.22,3.22,7.587,5.029,12.142,5.029c4.555,0,8.922-1.809,12.142-5.029l188.545-188.553    C474.988,241.811,492.719,206.017,492.719,166.008z" fill="#FFFFFF"></path></g></svg><a href="https://github.com/tianzhich" target="_blank"> @tianzhich </a></p></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-0e1cc0341dc892817918.js","107818501498521":"component---src-templates-blog-post-js-14060e765125310ecb9d.js","162898551421021":"component---src-pages-404-js-8e5aea5cd3509ab9fde8.js","137638538571168":"component---src-pages-fitness-js-e9fb0deb8a6198b03935.js","35783957827783":"component---src-pages-index-js-e1bab48f7bdddfe571dd.js","163474002598659":"component---src-pages-learning-js-487c010157b9e5abd65f.js","210863264062177":"component---src-pages-life-js-f70b2ab439829097e614.js","60335399758886":"path----afdd68c55cd83f110384.js","185328387226802":"path---life-2018-10-31-campus-recruitment-summary-7f010b5c913dd56ee9f4.js","14084931432379":"path---life-2018-12-31-2018-year-end-summary-62b2ab5f87841a0a8a3e.js","187507352487630":"path---life-2018-11-01-my-internship-in-insta-360-9522d2478bb12c09cc00.js","105628747647058":"path---learning-2018-08-17-why-js-01-02-not-equal-to-03-abb48faee96a90fb0b2a.js","117252040687834":"path---learning-2018-08-29-master-the-fed-interviews-java-script-14a15e89d46257534a0a.js","259631942176400":"path---learning-2018-08-22-the-magic-of-css-float-property-00e8f5d9e3b853484066.js","68432282983298":"path---learning-2018-09-08-master-the-fed-interviews-css-34be103efddcc44fabf3.js","122525428463767":"path---learning-2018-09-13-master-the-fed-interviews-react-067e2d8ed53447618353.js","140750986079233":"path---learning-2018-09-01-master-the-fed-interviews-computer-networking-e4473cb8ff484415f5d2.js","216963886073561":"path---learning-2018-09-16-http-caching-931340c30c8059591008.js","161495517759791":"path---learning-2018-09-11-document-flow-and-the-css-positioning-dc8f2935a9df998da826.js","147766044081179":"path---learning-2018-09-03-master-the-fed-interviews-algorithms-4098da4b0ec93076eba4.js","236278375703133":"path---learning-2019-01-27-simplify-the-file-creation-in-node-js-9d7e82c35ddca2f3acfb.js","224058518057538":"path---learning-2018-09-20-how-a-webpage-is-displayed-0cbdfea97b526d18735d.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","177823907933894":"path---fitness-582b2c50ebd5157dd0c7.js","142629428675168":"path---index-a0e39f21c11f6a62c5ab.js","145835162491587":"path---learning-9b04747c94b7d0661242.js","79702841818201":"path---life-8857366881278c3c19e6.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-402b03e0db3e9461830c.js"}/*]]>*/</script><script>/*<![CDATA[*/["/blog/commons-b71de3ed6830857928d7.js","/blog/app-0e1cc0341dc892817918.js","/blog/path---learning-2018-09-16-http-caching-931340c30c8059591008.js","/blog/component---src-templates-blog-post-js-14060e765125310ecb9d.js","/blog/component---src-layouts-index-js-402b03e0db3e9461830c.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>